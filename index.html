<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AUI</title>
    <meta name="description" content="AUI">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://rawgit.com/aframevr/aframe/917c06889ee1f3f79b7b1bbd9eab9815f9512503/dist/aframe.min.js"></script>
	<script src="components/api-controller.js"></script>
	<script src="https://rawgit.com/donmccurdy/aframe-extras/v2.1.1/dist/aframe-extras.loaders.min.js"></script>
    <script src="components/update-raycaster.js"></script>
	<script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>
  </head>
  <body>
    <a-scene>
		<!-- 3D model -->
      <a-assets>
		<a-asset-item id="myPlyModel" src="components/scene-demo.bake.ply"></a-asset-item>	
      </a-assets>	
	  
		<!-- Text Label -->
		<a-entity id="label" bmfont-text="text: HELLO!; color: #333" position="0 1 -3"></a-entity>
		<!--Scene model-->
		<a-entity ply-model="src: #myPlyModel" rotation="-90 0 0" position="0 0 0" scale="0.5 0.5 0.5"></a-entity>
	    	<!-- Sphere -->
	    	<!--  template="src: #link" -->
	    	<a-entity id="sph" cursor-listener geometry="primitive: sphere; depth: 2"
            		  position="5 5 4"
			 
         		  material="color: #6173F4; opacity: 0.8"
          		  physics="mass: 8; boundingBox: 1 1 2"
         		  explode="on: click; intensity: 3">
			<a-animation begin="click" fill="forwards" repeat="1"
                   		direction="alternate" attribute="position" from="0 0 0"	to="15 0 0" dur="2000">
			</a-animation>
	    	</a-entity>
	    
	    	<!-- Component to change to random color on click.-->
	    <script>
		AFRAME.registerComponent('cursor-listener', {
		  init: function () {
		    var COLORS = ['red', 'green', 'blue'];
		    this.el.addEventListener('click', function (evt) {
		      var randomIndex = Math.floor(Math.random() * COLORS.length);
		      this.setAttribute('material', 'color', COLORS[randomIndex]);
		    });
		  }
		});
	    </script>

	    
	    	<!-- Old Camera Settings -->
		<!-- Camera (active:false;)-->
		<!--- <a-entity camera="near:0.01" look-controls="" position="0 2 0" rotation="2.1772396214971272 13.52180396508745 0" 
			wasd-controls=""> -->
			<!-- Cursor -->
			<!--- <a-cursor id="cursor" animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150" 
				animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500" 
				event-set__1="_event: mouseenter; color: springgreen" event-set__2="_event: mouseleave; color: black" 
				raycaster="objects: .link" material="" cursor="" geometry="" color="springgreen"></a-cursor>
			</a-camera>
      		</a-entity> -->
	    	<!-- New Camera Settings -->
	    <a-entity camera="near:0.01" look-controls="" position="0 2 0" rotation="2.1772396214971272 13.52180396508745 0" 
			wasd-controls="">
        	<!-- <a-cursor id="cursor"
         		 animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          		 animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 150"
         		 event-set__1="_event: mouseenter; color: springgreen"
         		 event-set__2="_event: mouseleave; color: black"
         		 raycaster="objects: .link">
		</a-cursor> -->
		 <a-cursor id="cursor">
		    <a-animation begin="click" easing="ease-in" attribute="scale"
             		fill="backwards" from="0.1 0.1 0.1" to="1 1 1" dur="150">
		    </a-animation>
       		    <a-animation begin="fusing" easing="ease-in" attribute="scale"
            		fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="1500">
		    </a-animation>
		</a-cursor>
      	    </a-entity>
    </a-scene>
  </body>
</html>
